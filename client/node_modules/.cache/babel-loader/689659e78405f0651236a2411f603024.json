{"ast":null,"code":"var _jsxFileName = \"/home/0xpwn/project/stage/client/src/components/addinterv_prev.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport Navbar from \"./navbar\";\nimport \"./Style/interv_style.css\";\nimport { addInterv_prev } from \"./Function/AddintervFunction\";\n\nclass Interventionprev extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      N_maintenance: '',\n      date_heure_maintenance: '',\n      procedure_maintenance: '',\n      remarque_maintenance: '',\n      temps_arret: '',\n      temps_maint: '',\n      libelle_equip: '',\n      libelle_interv: '',\n      libelle_stock: '',\n      nb_piece: 0,\n      intervenant_list: [],\n      stock_list: [],\n      intervenant_bd: {},\n      stock: {},\n      equip: {},\n      insert: false,\n      errors: ''\n    };\n  }\n\n  componentWillMount() {\n    if (typeof localStorage.usertoken == 'undefined') {\n      this.props.history.push(\"/\");\n      return;\n    } //\n\n\n    const type = localStorage.typeconn;\n\n    if (type !== \"interv\") {\n      this.props.history.push(\"/\");\n      return;\n    }\n  }\n\n  componentDidMount() {\n    axios.post('/api/select/equipement').then(res => {\n      this.setState({\n        equip: res.data.msg\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //\n\n    axios.post('/api/select/stock').then(res => {\n      this.setState({\n        stock: res.data.msg\n      });\n    }).catch(err => {\n      console.log(err);\n    }); //\n\n    axios.post('/api/select/intervenant').then(res => {\n      this.setState({\n        intervenant_bd: res.data.msg\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const interv = {\n      N_maintenance: this.state.N_maintenance,\n      date_heure_maintenance: this.state.date_heure_maintenance,\n      procedure_maintenance: this.state.procedure_maintenance,\n      remarque_maintenance: this.state.remarque_maintenance,\n      temps_arret: this.state.temps_arret,\n      temps_maint: this.state.temps_maint,\n      libelle_equip: this.state.libelle_equip,\n      intervenant: this.state.intervenant_list,\n      stock: this.state.stock_list\n    };\n    addInterv_prev(interv).then(res => {\n      if (res) {\n        this.setState({\n          errors: '',\n          insert: true\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        errors: err,\n        insert: false\n      });\n    });\n  }\n\n  addIntervenant(e) {\n    e.preventDefault();\n\n    if (this.state.libelle_interv !== \"NULL\") {\n      var exist = this.state.intervenant_list.find(element => {\n        return element === this.state.libelle_interv;\n      });\n\n      if (typeof exist === \"undefined\") {\n        this.setState({\n          intervenant_list: [...this.state.intervenant_list, this.state.libelle_interv]\n        });\n      }\n    }\n  }\n\n  addStock(e) {\n    e.preventDefault();\n\n    if (this.state.libelle_stock !== \"NULL\" && this.state.nb_piece !== 0) {\n      var exist = this.state.stock_list.find(element => {\n        return element[0] === this.state.libelle_stock;\n      });\n\n      if (typeof exist === \"undefined\") {\n        var piece_disponible = this.state.stock.find(element => {\n          return element.libelle_produit === this.state.libelle_stock && element.quantite_existante >= this.state.nb_piece;\n        });\n\n        if (typeof piece_disponible === \"undefined\") {\n          this.setState({\n            errors: \"nombre de piece en stock de \".concat(this.state.libelle_stock, \" est\")\n          });\n        } else {\n          this.setState({\n            stock_list: [...this.state.stock_list, [this.state.libelle_stock, this.state.nb_piece]]\n          });\n        }\n      }\n    }\n  }\n\n  render() {\n    let equip_line;\n\n    if (typeof this.state.equip[0] !== \"undefined\") {\n      equip_line = this.state.equip.map(equipement => {\n        return React.createElement(\"option\", {\n          value: equipement.libelle_equip,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, \" \", equipement.libelle_equip, \" \");\n      });\n    } //\n\n\n    let interv_line;\n\n    if (typeof this.state.intervenant_bd[0] !== \"undefined\") {\n      interv_line = this.state.intervenant_bd.map(intervenant => {\n        return React.createElement(\"option\", {\n          value: intervenant.matricule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, \" \", intervenant.matricule + ' : ' + intervenant.nom + ' + ' + intervenant.prenom, \" \");\n      });\n    } //\n\n\n    let stock_line;\n\n    if (typeof this.state.stock[0] !== \"undefined\") {\n      stock_line = this.state.stock.map(element => {\n        return React.createElement(\"option\", {\n          value: element.libelle_produit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \" \", element.libelle_produit + ' ' + element.nu_serie + ' ' + element.emplacement, \" \");\n      });\n    } //\n\n\n    let interv_list = this.state.intervenant_list.map(intervenant => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, intervenant);\n    });\n    let stockaff_list = this.state.stock_list.map(element => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, element[0] + ',nombre de piece : ' + element[1]);\n    });\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, console.log(), React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"breadcrumb_section_interv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      \"aria-label\": \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Dashboard\"), React.createElement(\"li\", {\n      className: \"breadcrumb-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Intervention\"), React.createElement(\"li\", {\n      className: \"breadcrumb-item active\",\n      \"aria-current\": \"page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Ajouter Maintenance Preventive\")))), React.createElement(\"form\", {\n      onSubmit: this.onSubmit.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, this.state.insert === true ? React.createElement(\"div\", {\n      className: \"alert alert-primary\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Intervention ajouter\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"InputN_maint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Numero de Maintenance :\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"InputN_maint\",\n      name: \"N_maintenance\",\n      placeholder: \"Entrer Numero de Maintenance \",\n      value: this.state.N_maintenance,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"InputDate_maint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Date & l'heure du maintenance :\"), React.createElement(\"input\", {\n      type: \"datetime-local\",\n      className: \"form-control\",\n      id: \"InputDate_maint\",\n      name: \"date_heure_maintenance\",\n      placeholder: \"date & heure du maintenance\",\n      value: this.state.date_heure_maintenance,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Inputequip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Equipement :\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"Inputequip\",\n      name: \"libelle_equip\",\n      value: this.state.libelle_equip,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, equip_line)))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"InputInterv\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"intervenant :\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"InputInterv\",\n      name: \"libelle_interv\",\n      value: this.state.libelle_interv,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NULL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \" choisir intervenant \"), interv_line))), React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.addIntervenant.bind(this),\n      className: \"buttonclass btn btn-primary \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"ajouter intervenant\")))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, interv_list.length !== 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, interv_list) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Inputproc_maint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Procedure de maintenance :\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      id: \"Inputproc_maint\",\n      name: \"procedure_maintenance\",\n      placeholder: \"Procedure de maintenance\",\n      value: this.state.procedure_maintenance,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"InputRem\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Remarque  :\"), React.createElement(\"textarea\", {\n      className: \"form-control\",\n      id: \"InputRem\",\n      name: \"remarque_maintenance\",\n      placeholder: \"remarque \",\n      value: this.state.remarque_maintenance,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Inputtemps_arret\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"temps d'arret :\"), React.createElement(\"input\", {\n      type: \"datetime-local\",\n      className: \"form-control\",\n      id: \"Inputtemps_arret\",\n      name: \"temps_arret\",\n      placeholder: \"temps d'arret\",\n      value: this.state.temps_arret,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"InputDuree\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"dur\\xE9e du  maintenance :\"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"InputDuree\",\n      name: \"temps_maint\",\n      placeholder: \"dur\\xE9e du  maintenance\",\n      value: this.state.temps_maint,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Inputstock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Piece de Rechange :\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"Inputstock\",\n      name: \"libelle_stock\",\n      value: this.state.libelle_stock,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NULL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \" choisir piece \"), stock_line))), React.createElement(\"div\", {\n      className: \"col-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Inputnbpiece\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"nombre de Piece :  \"), React.createElement(\"input\", {\n      type: \"number\",\n      min: \"0\",\n      className: \"form-control\",\n      id: \"Inputnbpiece\",\n      name: \"nb_piece\",\n      placeholder: \"nombre piece\",\n      value: this.state.nb_piece,\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.addStock.bind(this),\n      className: \"buttonclass btn btn-primary \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"ajouter piece\")))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, stockaff_list.length !== 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, stockaff_list) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.errors !== '' ? React.createElement(\"div\", {\n      className: \"text-danger center_alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.state.errors.toString()) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"center_alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default Interventionprev;","map":{"version":3,"sources":["/home/0xpwn/project/stage/client/src/components/addinterv_prev.js"],"names":["React","axios","Navbar","addInterv_prev","Interventionprev","Component","constructor","state","N_maintenance","date_heure_maintenance","procedure_maintenance","remarque_maintenance","temps_arret","temps_maint","libelle_equip","libelle_interv","libelle_stock","nb_piece","intervenant_list","stock_list","intervenant_bd","stock","equip","insert","errors","componentWillMount","localStorage","usertoken","props","history","push","type","typeconn","componentDidMount","post","then","res","setState","data","msg","catch","err","console","log","onChange","e","target","name","value","onSubmit","preventDefault","interv","intervenant","addIntervenant","exist","find","element","addStock","piece_disponible","libelle_produit","quantite_existante","render","equip_line","map","equipement","interv_line","matricule","nom","prenom","stock_line","nu_serie","emplacement","interv_list","stockaff_list","bind","length","toString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from 'axios' ;\nimport Navbar from \"./navbar\" ;\nimport \"./Style/interv_style.css\";\nimport {addInterv_prev} from \"./Function/AddintervFunction\";\n\n\nclass Interventionprev extends React.Component {\n  constructor() {\n    super();\n    this.state = {N_maintenance : '' ,date_heure_maintenance : '' , procedure_maintenance : '' , remarque_maintenance : '' ,temps_arret : '' ,temps_maint : '' ,libelle_equip : '',libelle_interv : '' ,libelle_stock : '',nb_piece : 0 ,intervenant_list : [] , stock_list : [] , intervenant_bd : {}, stock : {} , equip : {}, insert : false , errors : ''};\n  }\n  componentWillMount() {\n    if(typeof localStorage.usertoken == 'undefined')\n      {this.props.history.push(`/`);return ;}\n    //\n    const type  = localStorage.typeconn ;\n    if(type !== \"interv\")\n      {this.props.history.push(`/`);return ;}\n  }\n  componentDidMount() {\n    axios.post('/api/select/equipement')\n         .then((res) => {this.setState({equip : res.data.msg})})\n         .catch((err) => {console.log(err);})\n    //\n    axios.post('/api/select/stock')\n         .then((res) => {this.setState({stock : res.data.msg})})\n         .catch((err) => {console.log(err);})\n    //\n    axios.post('/api/select/intervenant')\n         .then((res) => {this.setState({intervenant_bd : res.data.msg})})\n         .catch((err) => {console.log(err);})\n\n  }\n  onChange(e) {\n    this.setState({[e.target.name] : e.target.value});\n  }\n  onSubmit(e) {\n    e.preventDefault();\n    const interv = {N_maintenance : this.state.N_maintenance ,date_heure_maintenance : this.state.date_heure_maintenance , procedure_maintenance : this.state.procedure_maintenance , remarque_maintenance : this.state.remarque_maintenance ,temps_arret : this.state.temps_arret ,temps_maint : this.state.temps_maint ,libelle_equip : this.state.libelle_equip ,intervenant : this.state.intervenant_list , stock : this.state.stock_list };\n    addInterv_prev(interv)\n      .then((res) => {\n        if (res) {this.setState({ errors : '' , insert : true});}\n        })\n      .catch((err) => {this.setState({ errors : err ,  insert : false});})\n  }\n  addIntervenant(e) {\n    e.preventDefault();\n    if(this.state.libelle_interv !==\"NULL\")\n      {var exist = this.state.intervenant_list.find( (element) => {return (element === this.state.libelle_interv)  }) ;\n      if(typeof exist === \"undefined\") {\n      this.setState({intervenant_list : [...this.state.intervenant_list , this.state.libelle_interv]});}}\n  }\n  addStock(e) {\n    e.preventDefault();\n    if(this.state.libelle_stock !==\"NULL\" && this.state.nb_piece!== 0 )\n      {var exist = this.state.stock_list.find( (element) => {return (element[0] === this.state.libelle_stock)  }) ;\n      if(typeof exist === \"undefined\") {\n        var piece_disponible = this.state.stock.find( (element) => {return(element.libelle_produit === this.state.libelle_stock && element.quantite_existante >= this.state.nb_piece )})\n        if (typeof piece_disponible === \"undefined\") {\n          this.setState({ errors : `nombre de piece en stock de ${this.state.libelle_stock} est`});\n          }\n        else {\n        this.setState({stock_list : [...this.state.stock_list , [this.state.libelle_stock,this.state.nb_piece]]});}\n      }\n    }\n  }\n  render() {\n    let equip_line ;\n    if(typeof this.state.equip[0] !== \"undefined\")\n      {equip_line = this.state.equip.map((equipement) => {return <option value={equipement.libelle_equip}> {equipement.libelle_equip} </option>})}\n    //\n    let interv_line;\n    if(typeof this.state.intervenant_bd[0] !== \"undefined\")\n      {interv_line = this.state.intervenant_bd.map((intervenant) => {return <option value={intervenant.matricule}> {intervenant.matricule +' : '+ intervenant.nom +' + '+ intervenant.prenom} </option>})}\n    //\n    let stock_line;\n    if(typeof this.state.stock[0] !== \"undefined\")\n      {stock_line = this.state.stock.map((element) => {return <option value={element.libelle_produit}> {element.libelle_produit +' '+ element.nu_serie +' '+ element.emplacement} </option>})}\n    //\n    let interv_list = this.state.intervenant_list.map((intervenant) => {return <div>{intervenant}</div>})\n    let stockaff_list = this.state.stock_list.map((element) => {return <div>{element[0] + ',nombre de piece : ' + element[1]}</div>})\n    return (\n      <div className=\"container-fluid\">{console.log()}\n        <Navbar />\n        <div className=\"container\">\n          <div className=\"breadcrumb_section_interv\">\n            <nav aria-label=\"breadcrumb\">\n              <ol className=\"breadcrumb\">\n                <li className=\"breadcrumb-item\">Dashboard</li>\n                <li className=\"breadcrumb-item\">Intervention</li>\n                <li className=\"breadcrumb-item active\" aria-current=\"page\">Ajouter Maintenance Preventive</li>\n              </ol>\n            </nav>\n          </div>\n          <form   onSubmit={this.onSubmit.bind(this)}>\n            <div className=\"form-group\">\n            {(this.state.insert === true) ? (<div className=\"alert alert-primary\" role=\"alert\">Intervention ajouter</div>) : (<div></div>) }\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"InputN_maint\">Numero de Maintenance :</label>\n              <input type=\"text\" className=\"form-control\" id=\"InputN_maint\"  name=\"N_maintenance\" placeholder=\"Entrer Numero de Maintenance \" value={this.state.N_maintenance} onChange={this.onChange.bind(this)} />\n            </div>\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"InputDate_maint\">Date & l'heure du maintenance :</label>\n                  <input type=\"datetime-local\" className=\"form-control\" id=\"InputDate_maint\" name=\"date_heure_maintenance\" placeholder=\"date & heure du maintenance\" value={this.state.date_heure_maintenance} onChange={this.onChange.bind(this)}/>\n                </div>\n              </div>\n              <div className=\"col-6\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"Inputequip\">Equipement :</label>\n                  <select  className=\"form-control\" id=\"Inputequip\"  name=\"libelle_equip\"  value={this.state.libelle_equip} onChange={this.onChange.bind(this)}>\n                    {equip_line}\n                  </select>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-10\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"InputInterv\">intervenant :</label>\n                  <select  className=\"form-control\" id=\"InputInterv\"  name=\"libelle_interv\"  value={this.state.libelle_interv} onChange={this.onChange.bind(this)}>\n                    <option value=\"NULL\"> choisir intervenant </option>\n                    {interv_line}\n                    </select>\n                </div>\n              </div>\n              <div className=\"col-2\">\n                <div className=\"form-group\">\n                  <button onClick={this.addIntervenant.bind(this)}className=\"buttonclass btn btn-primary \">ajouter intervenant</button>\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              {(interv_list.length !== 0) ? (<div>{interv_list}</div>) : (<div></div>) }\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"Inputproc_maint\">Procedure de maintenance :</label>\n              <textarea  className=\"form-control\" id=\"Inputproc_maint\" name=\"procedure_maintenance\" placeholder=\"Procedure de maintenance\" value={this.state.procedure_maintenance} onChange={this.onChange.bind(this)}/>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"InputRem\">Remarque  :</label>\n              <textarea  className=\"form-control\" id=\"InputRem\" name=\"remarque_maintenance\" placeholder=\"remarque \" value={this.state.remarque_maintenance} onChange={this.onChange.bind(this)}/>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-6\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"Inputtemps_arret\">temps d'arret :</label>\n                  <input type=\"datetime-local\" className=\"form-control\" id=\"Inputtemps_arret\" name=\"temps_arret\" placeholder=\"temps d'arret\" value={this.state.temps_arret} onChange={this.onChange.bind(this)}/>\n                </div>\n              </div>\n              <div className=\"col-6\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"InputDuree\">durée du  maintenance :</label>\n                  <input type=\"text\" className=\"form-control\" id=\"InputDuree\" name=\"temps_maint\" placeholder=\"durée du  maintenance\" value={this.state.temps_maint} onChange={this.onChange.bind(this)}/>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-5\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"Inputstock\">Piece de Rechange :</label>\n                  <select  className=\"form-control\" id=\"Inputstock\"  name=\"libelle_stock\"  value={this.state.libelle_stock} onChange={this.onChange.bind(this)}>\n                    <option value=\"NULL\"> choisir piece </option>\n                    {stock_line}\n                    </select>\n                </div>\n              </div>\n              <div className=\"col-5\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"Inputnbpiece\">nombre de Piece :  </label>\n                  <input type=\"number\" min=\"0\" className=\"form-control\" id=\"Inputnbpiece\" name=\"nb_piece\" placeholder=\"nombre piece\" value={this.state.nb_piece} onChange={this.onChange.bind(this)}/>\n                </div>\n              </div>\n              <div className=\"col-2\">\n                <div className=\"form-group\">\n                  <button onClick={this.addStock.bind(this)} className=\"buttonclass btn btn-primary \">ajouter piece</button>\n                </div>\n              </div>\n            </div>\n            <div className=\"form-group\">\n              {(stockaff_list.length !== 0) ? (<div>{stockaff_list}</div>) : (<div></div>) }\n            </div>\n\n            <div className=\"form-group\">\n            {(this.state.errors !== '') ? (<div className=\"text-danger center_alert\">{this.state.errors.toString()}</div>) : (<div></div>) }\n            </div>\n            <div className=\"center_alert\">\n              <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n          </form>\n\n\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Interventionprev;\n"]},"metadata":{},"sourceType":"module"}